# 원석 부수기 (Space Shooter Game)

파이썬과 Pygame으로 만든 우주선 슈팅 게임입니다.

## 게임 소개

우주선을 조종하여 떨어지는 운석들을 피하고 미사일로 파괴하는 아케이드 스타일의 슈팅 게임입니다.
시간이 지날수록 운석이 빠르게 떨어지며 난이도가 증가합니다!

### 주요 특징
- 🎮 직관적인 키보드 컨트롤
- 🚀 미사일 발사 시스템
- ⚡ 강력한 전체 화면 스킬
- 💖 체력 시스템 (3개)
- 📈 점수 기록
- 🎵 배경 음악 및 효과음
- 🌐 온라인 점수 저장 및 랭킹 시스템
- 🏆 실시간 리더보드

## 게임 방법

### 조작법
- **방향키 (↑ ↓ ← →)**: 우주선 이동
- **스페이스바**: 미사일 발사
- **F 키**: 스킬 사용 (경험치 10개 모으면 사용 가능)

### 게임 규칙
1. 떨어지는 운석을 미사일로 파괴하면 **점수 +1** 및 **경험치 +1**
2. 운석에 맞으면 **체력 -1**
3. 체력이 0이 되면 게임 오버
4. 경험치 10개를 모으면 **스킬 사용 가능** (F 키로 화면의 모든 운석 제거)
5. 시간이 지날수록 운석이 더 빨리 떨어집니다

## 설치 방법

### 필요 요구사항
- Python 3.6 이상
- Pygame 라이브러리
- Requests 라이브러리 (온라인 점수 저장용)

### 설치 단계

1. 저장소 클론
```bash
git clone https://github.com/yourusername/spacegame.git
cd spacegame
```

2. 필요한 라이브러리 설치
```bash
pip install -r requirements.txt
```

또는 개별 설치:
```bash
pip install pygame requests
```

## 실행 방법

### 게임만 실행 (오프라인 모드)

```bash
cd main
python main.py
```

또는

```bash
python -m main.main
```

### 온라인 모드 (점수 저장 기능)

게임 오버 시 점수를 서버에 저장하고 랭킹을 확인하려면 먼저 서버를 실행해야 합니다.

1. **터미널 1** - 서버 실행:
```bash
cd server
pip install -r requirements.txt
python main.py
```

서버가 http://localhost:8000 에서 실행됩니다.
- API 문서: http://localhost:8000/docs

2. **터미널 2** - 게임 실행:
```bash
cd main
python main.py
```

게임 오버 시 이름을 입력하면 점수가 자동으로 서버에 저장됩니다!

## 프로젝트 구조

```
spacegame/
├── main/                    # 게임 클라이언트
│   ├── main.py             # 메인 시작 화면
│   ├── gameview.py         # 게임 플레이 로직
│   ├── config.py           # 게임 설정 및 상수
│   ├── utils.py            # 유틸리티 함수들
│   └── api_client.py       # 게임 서버 API 클라이언트
├── server/                  # FastAPI 게임 서버
│   ├── main.py             # FastAPI 메인 앱
│   ├── database.py         # 데이터베이스 설정
│   ├── models.py           # SQLAlchemy 모델
│   ├── schemas.py          # Pydantic 스키마
│   ├── requirements.txt    # 서버 패키지 목록
│   └── README.md           # 서버 문서
├── texture/                 # 이미지 및 사운드 파일
├── font/                    # 폰트 파일
├── requirements.txt         # 게임 패키지 목록
└── README.md
```

## 게임 화면

### 시작 화면
- **게임 시작하기**: 게임 플레이 시작
- **정보**: 게임 조작법 확인
- **나가기**: 게임 종료

### 플레이 화면
- 상단 좌측: 체력 표시 (하트 아이콘)
- 상단 중앙: 현재 점수
- 하단 좌측: 스킬 게이지 및 사용 가능 여부
- 하단 좌측: BACK 버튼 (메인 화면으로 돌아가기)

## 개발 정보

- **개발 언어**: Python
- **게임 엔진**: Pygame
- **버전**: 2.0 (안정화 버전)

### 최근 업데이트 (v2.0)
- ✅ 코드 전면 리팩토링 및 안정화
- ✅ 모듈화 및 설정 파일 분리
- ✅ 오류 처리 및 예외 상황 대응 강화
- ✅ GameState 클래스 도입으로 상태 관리 개선
- ✅ 충돌 감지 로직 최적화
- ✅ 리소스 로딩 안정성 향상
- 🆕 FastAPI 기반 게임 서버 추가
- 🆕 온라인 점수 저장 및 랭킹 시스템
- 🆕 게임 오버 시 사용자 이름 입력 기능
- 🆕 오프라인/온라인 모드 지원

## 라이선스

이 프로젝트는 개인 학습 및 포트폴리오 목적으로 제작되었습니다.

## 버그 제보 및 기여

버그를 발견하거나 개선 제안이 있으시면 Issue를 등록해주세요!
